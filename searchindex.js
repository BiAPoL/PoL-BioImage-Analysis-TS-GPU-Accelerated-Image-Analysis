Search.setIndex({"docnames": ["00_course_preparation/Readme", "30_Deconvolution/0_intro_to_decon", "30_Deconvolution/1_test_libs", "30_Deconvolution/2_cupy_forward", "30_Deconvolution/3_Nuclei_Deconvolution_Compare_to_Truth", "30_Deconvolution/4_Nuclei_Deconvolution_Segmentation", "30_Deconvolution/5_edges", "30_Deconvolution/6_decon_bead_edge_handling", "30_Deconvolution/7_decon_regularization", "30_Deconvolution/8_extract_psf", "30_Deconvolution/9_Dask_Deconvolution", "intro"], "filenames": ["00_course_preparation/Readme.md", "30_Deconvolution/0_intro_to_decon.md", "30_Deconvolution/1_test_libs.ipynb", "30_Deconvolution/2_cupy_forward.ipynb", "30_Deconvolution/3_Nuclei_Deconvolution_Compare_to_Truth.ipynb", "30_Deconvolution/4_Nuclei_Deconvolution_Segmentation.ipynb", "30_Deconvolution/5_edges.ipynb", "30_Deconvolution/6_decon_bead_edge_handling.ipynb", "30_Deconvolution/7_decon_regularization.ipynb", "30_Deconvolution/8_extract_psf.ipynb", "30_Deconvolution/9_Dask_Deconvolution.ipynb", "intro.md"], "titles": ["Course preparation", "Intro to Deconvolution and Restoration", "Setup environment", "Implementing the forward model (Convolution) with cupy", "Nuclei Deconvolution and Compare intensities to ground truth", "Nuclei Deconvolution and Segmentation", "Edge handling", "Edge handling experiments", "Deconvolve microtubules phantom", "A Notebook showing \u2018reverse Deconvolution\u2019 a.k.a. PSF Distilling", "Dask deconvolution", "PoL Bio-Image Analysis Training School on GPU-Accelerated Image Analysis"], "terms": {"befor": [0, 3, 4, 5, 6], "attend": 0, "pleas": [0, 11], "instal": [0, 2, 4, 5, 9], "mambaforg": 0, "your": [0, 2, 4, 5, 9, 11], "comput": [0, 3, 7, 10], "explain": 0, "thi": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10], "blog": 0, "post": 0, "If": [0, 2, 6, 9, 11], "you": [0, 2, 4, 5, 10, 11], "alreadi": 0, "have": [0, 1, 2, 3, 4, 5, 6, 7, 9, 10, 11], "some": [0, 1, 2, 3, 4, 5], "conda": [0, 2, 6, 11], "anaconda": 0, "anywai": 0, "link": [0, 11], "abov": [0, 2, 4, 5, 6, 9], "furthermor": 0, "devbio": [0, 2, 4, 5, 9, 11], "napari": [0, 9, 11], "fresh": 0, "environ": [0, 6], "e": [0, 3], "g": 0, "us": [0, 1, 2, 4, 6, 8, 10], "command": 0, "mamba": [0, 2, 4, 5], "creat": [0, 1, 2, 10, 11], "name": [0, 2, 4, 5, 9], "env": [0, 2, 4, 5, 9, 11], "python": [0, 2, 4, 5, 9], "3": [0, 2, 3, 4, 5, 6, 9], "9": [0, 2, 3, 4, 5, 9], "pyqt": 0, "c": [0, 2, 4, 5, 9], "forg": [0, 2, 4, 5, 9], "when": [0, 1, 3, 5, 6, 7, 9], "ar": [0, 1, 2, 3, 4, 5, 6, 9, 10, 11], "done": [0, 9], "can": [0, 1, 2, 3, 4, 5, 6, 7, 9, 10, 11], "test": [0, 1, 6], "setup": 0, "execut": [0, 11], "from": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "line": [0, 4, 10], "activ": [0, 9, 11], "naparia": 0, "after": [0, 3, 5, 6, 9], "open": [0, 11], "click": 0, "menu": 0, "file": [0, 5], "sampl": 0, "clesperanto": [0, 11], "blob": 0, "imagej": 0, "In": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10], "panel": 0, "right": [0, 1, 6, 7], "label": [0, 4, 5, 9], "button": 0, "look": [0, 7, 9], "like": [0, 1, 5, 7, 10, 11], "readi": 0, "go": 0, "case": [0, 6, 9, 10], "error": [0, 5, 8], "messag": 0, "one": [0, 6], "_get_win_folder_with_pywin32": 0, "win32com": 0, "shell": 0, "import": [0, 1, 3, 6, 7, 8, 10], "shellcon": 0, "importerror": [0, 2, 4, 5, 10], "while": 0, "The": [0, 1, 3, 4, 5, 6, 7, 8, 9], "specifi": 0, "procedur": [0, 1], "could": [0, 2, 9, 10], "found": [0, 2, 5, 6, 7, 9], "try": [0, 2, 3, 4, 5, 10], "within": [0, 6], "base": [0, 2, 4, 5, 6, 9, 10, 11], "pip": [0, 2, 4, 5, 9], "upgrad": 0, "pywin32": 0, "228": 0, "sourc": [0, 9], "contain": [0, 9, 11], "cl": 0, "see": [0, 3, 6, 7, 10, 11], "also": [0, 1, 2, 4, 5, 6, 7, 9], "clgetplatformid": 0, "platform_not_found_khr": 0, "recent": [0, 6], "opencl": [0, 9], "devic": [0, 3], "select": 0, "depend": [0, 2, 6], "hardwar": [0, 1], "list": 0, "amd": 0, "nvidia": 0, "intel": 0, "gpu": [0, 1, 2, 4, 5, 7, 10], "http": [0, 2, 4, 5, 6, 8, 9], "www": [0, 2, 4, 5], "com": [0, 2, 4, 5, 6, 9], "content": 0, "en": 0, "download": [0, 11], "726609": 0, "arc": 0, "window": [0, 6, 7], "dch": 0, "html": 0, "cpu": [0, 6], "microsoft": 0, "sometim": [0, 9], "mac": [0, 2, 4, 5, 9], "user": [0, 2, 4, 5, 9], "need": [0, 1, 2, 3, 4, 5, 6, 9, 10], "ocl_icd_wrapper_appl": [0, 2, 4, 5, 9], "linux": [0, 2, 4, 5, 9], "ocl": [0, 2, 4, 5, 9], "icd": [0, 2, 4, 5, 9], "system": [0, 1, 2, 4, 5, 6, 9], "didn": 0, "t": [0, 5, 6, 9, 10], "work": [0, 2, 4, 5, 6, 11], "first": [0, 2, 4, 5, 6, 7], "attempt": [0, 1, 3], "mai": [0, 2, 3, 4, 5, 6, 9], "call": [0, 5, 6, 9, 10], "reset": 0, "configur": 0, "run": [0, 1, 3], "ani": [0, 3, 5, 9, 11], "troubl": 0, "softwar": 0, "thread": [0, 1, 11], "imag": [0, 8, 10], "sc": [0, 9, 11], "tag": [0, 11], "haesleinhuepf": [0, 11], "A": [1, 6], "revers": [1, 7], "convolut": [1, 6, 7, 9, 10], "blur": [1, 5, 9], "consid": 1, "nois": [1, 5, 6], "type": [1, 6, 11], "which": [1, 5, 6, 9, 11], "true": [1, 2, 3, 4, 5, 6, 7, 9], "signal": [1, 3, 6, 9], "presenc": 1, "problem": [1, 3, 5, 6], "ill": 1, "pois": 1, "inform": [1, 9], "lost": 1, "thu": [1, 3, 5, 6], "cannot": 1, "origin": [1, 3, 5, 7], "complet": [1, 3], "describ": [1, 9], "respons": 1, "object": [1, 5, 6, 9], "basic": 1, "unit": 1, "format": [1, 3], "len": [1, 7, 8], "doe": [1, 2, 4, 5, 7, 9, 10], "focu": 1, "light": 1, "rather": 1, "difract": 1, "pattern": 1, "later": 1, "plane": 1, "3d": [1, 5, 7], "widefield": [1, 5], "instrument": 1, "hour": 1, "glass": 1, "view": [1, 5, 6], "z": [1, 3, 5, 7, 9], "confoc": 1, "footbal": 1, "shape": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], "truth": [1, 2, 8, 10], "convolv": [1, 3], "mean": [1, 4, 5, 9], "forward": 1, "model": [1, 9], "simul": [1, 2, 4, 5], "train": [1, 2, 4, 5], "deep": [1, 2, 4, 5], "learn": [1, 2, 3, 4, 5], "high": [1, 3], "frequenc": [1, 3], "microscop": 1, "otf": [1, 3, 6], "band": 1, "limit": [1, 9], "so": [1, 2, 3, 4, 5, 6, 7, 9, 10, 11], "pose": 1, "ha": [1, 5, 6, 7, 9, 11], "amplifi": 1, "solv": [1, 6, 9], "domain": 1, "invers": [1, 3], "filter": [1, 5], "minim": [1, 6], "wiener": 1, "below": [1, 2, 3, 4, 5, 6, 7, 9], "show": [1, 2, 6, 8], "left": [1, 6, 7], "sphere": [1, 3], "result": [1, 3, 9, 10], "10": [1, 2, 4, 5, 6, 8, 9, 10], "20": [1, 4, 5, 6, 9, 10], "30": [1, 4, 5, 10], "acceler": [1, 2, 4, 5], "onc": 1, "approch": 1, "algorithm": [1, 2, 3, 4, 5, 6, 9], "dei": 1, "etc": 1, "al": 1, "2006": 1, "wa": [1, 2, 5, 11], "deconvolv": [1, 2, 7], "50": [1, 3, 4, 5, 7, 9, 10], "factor": [1, 7, 10], "0": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], "002": 1, "non": [1, 4, 5, 9, 10], "circul": [1, 4, 5, 9, 10], "big": 1, "lab": [1, 11], "technic": [1, 6], "note": [1, 2, 4, 5, 6, 7, 9], "2014": [1, 6], "m": [1, 6], "bertero": 1, "p": 1, "boccaci": 1, "2005": 1, "take": [1, 3, 6, 9], "bigger": 1, "step": [1, 3, 5, 9], "each": [1, 2, 3, 5, 9, 10], "vector": 1, "bigg": 1, "math": 1, "librari": [1, 4, 5], "multi": 1, "we": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "set": 2, "up": [2, 5, 7, 10], "properli": [2, 6], "hollow": 2, "bar": [2, 3, 10], "exampl": [2, 3, 4, 5, 6, 7, 8, 10], "develop": [2, 9], "biomed": 2, "group": 2, "epfl": [2, 8], "here": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "an": [2, 3, 4, 5, 9, 10, 11], "extens": 2, "development": 2, "biologi": 2, "requir": [2, 9], "coupl": [2, 9], "experiment": [2, 6], "just": [2, 4, 5, 9, 10], "add": 2, "s": [2, 3, 4, 5, 6, 11], "good": 2, "practic": [2, 6], "new": [2, 4, 5], "pytorch": [2, 4, 5, 11], "now": [2, 4, 5, 6], "cuda": [2, 3, 4, 5], "cupi": [2, 4, 5, 11], "todo1": [2, 4, 5], "istal": [2, 4, 5], "part": [2, 4, 5, 6, 9, 11], "morn": [2, 4, 5], "session": [2, 4, 5], "todo2": [2, 4, 5], "clarifi": [2, 4, 5], "whether": [2, 3, 4, 5], "provid": [2, 4, 5], "altern": [2, 4, 5, 11], "probabl": [2, 4, 5], "version": [2, 4, 5, 6, 7, 9], "differ": [2, 3, 4, 5, 6, 7, 9], "than": [2, 3, 4, 5, 9, 10], "11": [2, 4, 5], "make": [2, 3, 6], "sure": [2, 3, 4, 5], "cudatookkit": [2, 4, 5], "compat": [2, 4, 5], "cudatoolkit": [2, 4, 5], "2": [2, 3, 4, 5, 6, 7, 9, 10], "cudnn": [2, 4, 5], "8": [2, 4, 5, 6, 7], "1": [2, 3, 4, 5, 6, 7, 9, 10], "cuda11x": [2, 4, 5], "let": [2, 4, 5, 6], "tnia": [2, 3, 4, 5, 7, 8, 9], "project": [2, 3, 4, 5, 7, 8, 9, 11], "helper": [2, 4, 5, 6], "function": [2, 4, 5, 9], "clij2": [2, 4, 5, 9], "fft": [2, 4, 5, 6, 9, 10], "stardist": [2, 4], "measur": [2, 4, 5, 9], "segment": [2, 4, 9, 11], "qualiti": [2, 4, 5], "compar": [2, 5, 9], "classic": [2, 4, 5], "psfmodel": [2, 4, 5], "diffract": [2, 4, 5], "psf": [2, 10], "git": [2, 4, 5, 9], "github": [2, 4, 5, 6, 9, 11], "north": [2, 4, 5, 9], "intellig": [2, 4, 5, 9], "index": [2, 4, 5, 7, 8, 9], "url": [2, 4, 5, 9], "pypi": [2, 4, 5, 9], "org": [2, 4, 5, 9], "simpl": [2, 4, 5, 6, 9], "dep": [2, 4, 5, 9], "And": [2, 4, 5, 6, 7, 10], "how": [2, 3, 4, 5, 9, 10], "raster": [2, 4, 5], "geometri": [2, 4, 5], "been": [2, 5, 6, 7, 9, 11], "imnotther": 2, "int": [2, 4, 5, 9, 10], "imnothtere_found": 2, "print": [2, 3, 4, 5, 6, 7, 9, 10], "except": [2, 3, 4, 5, 10], "imnotthere_found": 2, "fals": [2, 3, 4, 5, 7, 10], "NOT": 2, "clij2fft": [2, 4, 5, 7, 8, 9, 10], "richardson_luci": [2, 4, 5, 7, 8, 9, 10], "richardson_lucy_nc": [2, 4, 5, 7, 8, 9, 10], "clij2_rl_found": 2, "redlionfishdeconv": [2, 4, 5, 7, 10], "rl": [2, 4, 5, 6, 7, 10], "redlionfish_rl_found": 2, "rlf": [2, 7], "cp": [2, 3], "cupy_found": 2, "numpi": [2, 3, 4, 5, 6, 7, 9, 10], "np": [2, 3, 4, 5, 6, 7, 9, 10], "avail": [2, 3, 9], "stackview": [2, 3, 10], "folder": [2, 4, 5, 11], "dropbox": [2, 4, 5], "scl": [2, 4, 5], "fo": [2, 4, 5], "ngs73x29t1ch8208d75lv": [2, 4, 5], "h": [2, 4, 5, 6, 7], "rlkei": [2, 4, 5], "7acq2epqp1f1x039q833ry6p4": [2, 4, 5], "dl": [2, 4, 5], "besid": [2, 4, 5], "pol": [2, 4, 5], "bioimag": [2, 4, 5, 11], "analysi": [2, 4, 5], "ts": [2, 4, 5], "place": [2, 4, 5], "insid": [2, 4, 5], "code": [2, 4, 5, 6, 10, 11], "snippet": [2, 4, 5], "chang": [2, 4, 5, 6, 9], "im_path": [2, 3, 4, 5, 6, 7, 8, 9, 10], "local": [2, 3, 4, 5, 9], "locat": [2, 4, 5], "machin": [2, 4, 5, 9], "where": [2, 4, 5, 6, 7, 10], "put": [2, 4, 5, 11], "imread": [2, 3, 4, 5, 6, 7, 8, 9, 10], "verifi": [2, 4, 5], "size": [2, 4, 5, 6, 9, 10], "128": [2, 3, 7, 8, 10], "256": [2, 3, 7, 10], "skimag": [2, 3, 4, 5, 6, 7, 8, 9, 10], "io": [2, 3, 4, 5, 6, 7, 8, 9, 10], "os": [2, 3, 4, 5, 7, 8, 9, 10], "r": [2, 3, 4, 5, 6, 7, 8, 9, 10], "im_nam": [2, 3, 4, 5, 8, 10], "g10": [2, 3, 10], "p30": [2, 3, 10], "stack": [2, 3, 5, 7, 9, 10], "tif": [2, 3, 4, 5, 6, 7, 8, 9, 10], "psf_name": [2, 3, 4, 8, 10], "truth_nam": [2, 4, 5, 6, 8, 10], "im": [2, 4, 5, 6, 8, 9, 10], "path": [2, 3, 4, 5, 7, 8, 9, 10], "join": [2, 3, 4, 5, 7, 8, 9, 10], "astyp": [2, 3, 4, 5, 6, 7, 9, 10], "float32": [2, 3, 4, 5, 6, 7, 9, 10], "sum": [2, 3, 6, 7, 9, 10], "xy": [2, 5, 9, 10], "xz": 2, "zy": 2, "max": [2, 3, 6, 7, 9], "decon_help": [2, 3], "test_help": 2, "show_xyz_slic": 2, "help": [2, 5, 9], "orthogon": [2, 10], "continuous_upd": 2, "tru": 2, "hello": 2, "py": [2, 6], "imnport": 2, "redlionfish": [2, 4, 5, 10], "implement": [2, 9], "richardson": [2, 3, 4, 5, 7, 8, 9, 10], "luci": [2, 3, 4, 5, 7, 8, 9, 10], "thei": [2, 4, 5], "perform": [2, 5, 9, 10], "decon_clij2": 2, "100": [2, 3, 4, 5, 10], "els": [2, 3, 6], "zeros_lik": [2, 5, 6, 9], "decon_rlf": 2, "dorldeconvolutionfromnparrai": [2, 4, 5, 7, 10], "niter": [2, 4, 5, 7, 10], "method": [2, 4, 5, 7, 8, 9, 10], "resasuint8": [2, 4, 5, 7, 10], "switch": 2, "rotat": 2, "explor": 2, "dataset": [2, 9], "reconstruct": [2, 6, 9], "Is": 2, "truer": 2, "represent": 2, "excercis": 2, "1000": [2, 5, 6, 7], "iter": [2, 5, 6, 7, 8, 10], "000": 2, "fast": 2, "even": [2, 6, 7, 9, 10], "bit": [2, 7, 10], "time": [2, 3, 7], "continu": 2, "improv": [2, 5], "more": [2, 5, 9, 10], "viewer": [2, 4, 5, 6, 9], "add_imag": [2, 4, 5, 6, 9], "layer": [2, 4, 5, 6], "0x7f438f22bfa0": 2, "notebook": [3, 4, 5, 11], "theorem": 3, "state": 3, "two": 3, "pointwis": 3, "multipl": [3, 5, 7, 9, 10], "transform": [3, 5], "becaus": [3, 5, 9], "larg": [3, 9], "kernel": 3, "much": [3, 9], "faster": [3, 10], "mulitpli": 3, "them": [3, 5], "spatial": [3, 9], "mani": [3, 10], "deconvolut": [3, 6, 8, 11], "includ": [3, 6, 7, 9], "consist": [3, 7], "seri": 3, "both": [3, 5], "purpos": [3, 8], "out": [3, 4, 5, 10], "think": [3, 7], "through": [3, 5], "deal": [3, 4, 5], "gener": [3, 4, 5, 6, 7, 10], "block": [3, 6], "our": [3, 7, 9], "To": [3, 6], "shift": 3, "product": 3, "addit": [3, 6, 9], "temporari": 3, "buffer": [3, 10], "apr": [3, 7], "copi": [3, 6], "adjust": 3, "reduc": 3, "increas": [3, 5], "With": [3, 10], "less": [3, 9, 10], "total": 3, "greater": 3, "For": [3, 7, 11], "larger": [3, 5, 6, 7], "manage_memori": 3, "plot": [3, 4, 5, 6, 7, 8, 9], "show_xy_zy_max": [3, 7, 9], "unpad": 3, "mempool": 3, "get_default_memory_pool": 3, "total_gpu_memori": 3, "bpg": 3, "1024": 3, "available_gpu_memori": 3, "mem_info": 3, "At": 3, "begin": 3, "used_byt": 3, "xdim": 3, "ydim": 3, "zdim": 3, "bytes_per_pixel": 3, "4": [3, 6, 7, 9], "array_s": 3, "gb": 3, "7": [3, 5, 6, 7, 8, 9], "7540283203125": 3, "5972900390625": 3, "5": [3, 4, 5, 6, 7, 9], "dtype": [3, 6, 10], "fig": [3, 4, 5, 6, 7, 8, 9], "vmax": [3, 7, 9], "raster_geometri": 3, "rg": 3, "phantom": [3, 4], "add_small_to_larg": 3, "zero": [3, 6, 9], "x": [3, 6], "y": [3, 6], "250": [3, 4, 9], "200": [3, 4, 5, 6, 9], "400": [3, 4], "150": [3, 4, 5], "order": [3, 5], "do": [3, 6, 10], "wise": 3, "_": [3, 5, 6, 7], "constant": [3, 6], "involv": 3, "move": 3, "center": [3, 7, 9], "pixel": [3, 9], "multipli": [3, 7], "cell": 3, "longer": 3, "without": [3, 5, 10], "phantom_cp": 3, "psf_cp": 3, "psf_cp_shift": 3, "ifftshift": [3, 6], "psf_shift": 3, "otf_cp": 3, "rfftn": [3, 6], "phantom_cp_fft": 3, "phantom_fft": 3, "temp": [3, 5], "convolved_cp": 3, "irfftn": [3, 6], "asnumpi": 3, "del": 3, "free_all_block": 3, "501953125": 3, "0029296875": 3, "50390625": 3, "5048828125": 3, "free": [3, 6], "should": [3, 4, 5, 6, 9], "sinc": [3, 6, 9], "all": [3, 5, 6, 9, 11], "scope": 3, "care": [3, 4, 5], "rememb": [3, 6, 10], "had": [3, 5, 6], "flag": 3, "indic": 3, "want": [3, 5, 6, 10, 11], "dure": 3, "process": [3, 10, 11], "exist": 3, "fail": 3, "wai": 3, "know": [3, 9], "far": [3, 9], "along": 3, "got": 3, "variabl": 3, "still": [3, 7, 9, 10], "0048828125": 3, "001953125": 3, "final": [3, 5, 6], "clear": 3, "real": [3, 6, 10], "program": 3, "would": [3, 7, 10, 11], "someth": [3, 4, 5, 6], "tempori": 3, "memorori": 3, "explicitli": 3, "plan": 3, "avoid": 3, "leak": 3, "config": 3, "get_plan_cach": 3, "similar": [4, 6], "ones": [4, 6, 7], "abrf": [4, 5], "studi": [4, 5], "question": [4, 5, 9, 11], "restor": 4, "closer": [4, 7, 9], "same": [4, 5, 9], "get": [4, 5, 7, 8, 9, 10], "load": [4, 5, 10], "propertli": [4, 5], "resiz": 4, "oper": [4, 5, 7], "sim": 4, "na": [4, 5, 6, 7], "119": 4, "202": 4, "show_xyz_max": [4, 5, 8, 9], "regularization_factor": [4, 5, 7], "0002": 4, "def": [4, 5, 6, 10], "img": [4, 5, 6, 10], "return": [4, 5, 6, 10], "500": [4, 5, 6, 9], "2000": [4, 7, 8], "i": [4, 5, 6, 9], "lib": [4, 5, 7, 8, 9, 10], "warn": [4, 10], "start": [4, 5, 9, 10], "finishedget": 4, "40": [4, 5, 10], "60": [4, 5, 10], "70": [4, 5, 10], "80": [4, 5, 10], "90": [4, 5, 10], "110": [4, 5], "120": [4, 5], "130": [4, 5], "140": [4, 5], "160": [4, 5], "170": [4, 5], "180": [4, 5], "190": [4, 5], "210": 4, "220": 4, "230": 4, "240": 4, "260": 4, "270": 4, "280": 4, "290": 4, "300": [4, 9], "310": 4, "320": 4, "330": 4, "340": 4, "350": 4, "360": 4, "370": 4, "380": 4, "390": 4, "410": 4, "420": 4, "430": 4, "440": 4, "450": [4, 9], "460": 4, "470": 4, "480": 4, "490": 4, "finish": [4, 5, 10], "mse": 4, "b": 4, "squar": 4, "subtract": 4, "rmse": [4, 8], "sqrt": [4, 6], "zip": 4, "7267": 4, "49": [4, 7], "5507": 4, "9326": 4, "4435": 4, "0576": 4, "3700": 4, "5608": 4, "3073": 4, "1455": 4, "2474": 4, "483": 4, "matplotlib": [4, 6, 8], "pyplot": [4, 6, 8], "plt": [4, 6, 8], "ax": [4, 6], "subplot": [4, 6], "figsiz": [4, 6, 7, 8, 9], "18": 4, "14": 4, "str": 4, "legend": 4, "0x7f1c793758e0": 4, "0x7f1c0bfc2e50": 4, "lmrg": 5, "detail": 5, "about": [5, 6, 9, 11], "instead": [5, 9], "site": 5, "googl": 5, "realli": 5, "downstream": 5, "accur": [5, 9], "ground": [5, 8], "organ": 5, "match": 5, "util": [5, 9], "against": 5, "discov": 5, "tricki": 5, "optim": 5, "segmentaton": 5, "approach": [5, 7, 9], "someon": 5, "come": 5, "sophist": [5, 9], "strategi": [5, 11], "compens": 5, "other": [5, 9], "invit": 5, "peopl": [5, 11], "own": 5, "nuclei4_out_c90_dr10_imag": 5, "out_c90_dr10_label": 5, "258": 5, "161": 5, "isotrop": 5, "voxel": 5, "don": [5, 9, 10], "interpol": 5, "vale": 5, "preserve_rang": 5, "anti_alias": 5, "int32": 5, "fluoresc": 5, "remov": 5, "contrast": [5, 9], "lead": [5, 6], "better": [5, 7, 9], "quantif": 5, "One": [5, 9], "hiccup": 5, "did": [5, 9], "well": 5, "meta": [5, 7], "20x": 5, "75na": 5, "dimens": [5, 9], "124x0": 5, "um": 5, "emiss": 5, "peak": 5, "wavelength": [5, 6], "nm": 5, "follow": [5, 7, 9, 11], "read": 5, "meant": 5, "effect": [5, 8, 9], "space": [5, 6, 7], "were": [5, 6, 10], "372": [5, 8], "2800": 5, "gibson_lanni_3d": [5, 7], "x_voxel_s": 5, "z_voxel_s": 5, "xy_psf_dim": [5, 7], "206": 5, "z_psf_dim": 5, "33": 5, "75": 5, "ni": [5, 7], "ns": [5, 7], "0005": 5, "im_decon": 5, "watersh": 5, "level": [5, 9], "otsu": [5, 9], "threshold": 5, "detect": 5, "separ": 5, "bright": [5, 9], "dark": 5, "background": [5, 7], "fill": 5, "remain": 5, "hole": 5, "pass": [5, 6], "spot": 5, "sigma": 5, "distanc": 5, "calcul": [5, 7, 10], "map": [5, 6], "ussual": 5, "As": 5, "loop": 5, "binari": 5, "clean": 5, "eros": 5, "close": [5, 7], "morpholog": [5, 9], "fill_hol": 5, "fill_holes_3d_slic": 5, "fill_holes_slic": 5, "threshold_otsu": [5, 9], "separate_touching2": 5, "separate_touch": 5, "binary_clos": 5, "binary_open": 5, "binary_eros": 5, "ball": 5, "regionprop": [5, 9], "sx": 5, "1238": 5, "sy": 5, "sz": [5, 7], "tend": 5, "entir": [5, 10], "1st": 5, "applic": [5, 7], "region": [5, 9], "second": [5, 6], "custom": 5, "seper": 5, "15": 5, "back": [5, 9], "object_list": 5, "labels2": 5, "surfac": 5, "gap": 5, "obj": 5, "z1": 5, "y1": 5, "x1": 5, "z2": 5, "y2": 5, "x2": 5, "bbox": 5, "pad": 5, "criterion": 5, "iou": 5, "thresh": 5, "fp": 5, "tp": 5, "fn": 5, "precis": 5, "recal": 5, "accuraci": 5, "f1": 5, "n_true": 5, "n_pred": 5, "mean_true_scor": 5, "9111653327941894": 5, "mean_matched_scor": 5, "panoptic_qu": 5, "relabel": 5, "add_label": 5, "0x7fb6d0b92dc0": 5, "veri": 6, "aspect": 6, "sever": 6, "artifact": [6, 7, 9, 10], "occur": 6, "fact": [6, 9], "possibl": [6, 10, 11], "slightli": 6, "beyond": 6, "acquir": [6, 7, 9], "field": [6, 9], "though": [6, 7], "keep": [6, 10], "mind": [6, 10], "assum": [6, 11], "condit": 6, "harder": 6, "outsid": 6, "boundari": [6, 7, 10], "design": 6, "scipi": 6, "shouldn": 6, "complic": [6, 10], "great": 6, "convers": 6, "andrew": 6, "york": 6, "frame": 6, "tool": [6, 9], "equat": [6, 7], "2013": 6, "grand": 6, "challeng": 6, "justificaton": 6, "modif": 6, "small": [6, 9, 10], "amount": 6, "structur": [6, 9], "o_k": 6, "estim": [6, 9], "k": [6, 7], "observ": 6, "point": [6, 9], "spread": [6, 9], "n": [6, 7], "unknown": 6, "o": [6, 7, 9], "frac": [6, 7], "o_": [6, 7], "onli": [6, 9], "w": [6, 7], "solut": [6, 7], "wi": [6, 7], "perfectli": 6, "term": 6, "perfect": 6, "nonger": 6, "updat": 6, "everywher": 6, "give": 6, "express": 6, "1s": 6, "proper": [6, 7], "doesn": 6, "rel": [6, 10], "independ": 6, "modul": 6, "next": 6, "few": [6, 10], "poisson": 6, "paraxi": 6, "2d": 6, "inspir": 6, "matlab": 6, "jame": 6, "maton": 6, "modifi": 6, "guess": 6, "fftshift": 6, "ifftn": 6, "fftn": 6, "random": 6, "richardson_lucy_np": 6, "num_it": 6, "none": 6, "first_guess": [6, 9], "float64": 6, "delta": 6, "00001": 6, "otf_": 6, "conjug": [6, 7], "01": 6, "rang": 6, "reblur": 6, "ratio": [6, 7, 9], "1e": 6, "divid": [6, 9, 10], "jdmanton": 6, "rl_positivity_sim": 6, "manton": 6, "field_imag": 6, "paraxial_otf": 6, "numerical_apertur": 6, "pixel_s": 6, "nx": 6, "ny": 6, "resolut": [6, 9], "image_centre_x": 6, "image_centre_i": 6, "linspac": 6, "meshgrid": 6, "filter_radiu": 6, "v": 6, "pi": 6, "arcco": 6, "paraxial_psf": 6, "imshow2d": 6, "width": 6, "height": 6, "6": [6, 7], "paddeds": 6, "mode": 6, "arg": 6, "nd": [6, 7, 8, 9], "arrai": [6, 10], "tupl": 6, "lambda": 6, "j": 6, "ceil": 6, "floor": 6, "star": 6, "feel": 6, "experi": [6, 11], "truth_typ": 6, "d": [6, 7], "i2k2022": 6, "suptitl": [6, 7, 9], "text": [6, 7, 9], "98": [6, 7, 9], "101": [6, 7], "min": [6, 9], "0060154707": 6, "tmp": 6, "ipykernel_14570": 6, "2834657628": 6, "44": 6, "complexwarn": 6, "cast": 6, "complex": 6, "valu": [6, 9], "discard": 6, "imaginari": 6, "appli": [6, 7, 9], "clearli": 6, "emitt": 6, "ws": 6, "window_index": 6, "s_": [6, 9], "4177033410": 6, "flat": 6, "ones_lik": [6, 9], "float": 6, "1798348474": 6, "decon": [6, 7, 10], "0x7f4b99c9eb50": 6, "deriv": 7, "extend": 7, "being": [7, 9], "equival": 7, "Then": [7, 9], "becom": 7, "normal": [7, 9], "htone": 7, "measuredimag": 7, "realiti": 7, "matrix": 7, "crop": [7, 9, 10], "speed": 7, "axi": [7, 8], "posit": 7, "depth": [7, 10], "coverslip": 7, "demonstr": 7, "show_xy_zy_slic": 7, "5um": 7, "z_to_view": 7, "xy_spac": 7, "0645": 7, "z_space": 7, "16": [7, 10], "data": [7, 8, 9], "refract": 7, "medium": 7, "embed": 7, "It": [7, 9, 11], "exactli": 7, "immers": 7, "media": 7, "previou": [7, 10], "dtermin": 7, "ri": 7, "ndutil": [7, 8, 9], "centercrop": [7, 8, 9], "recenter_psf_axi": 7, "imsav": 7, "518": 7, "530": 7, "255": 7, "z_compute_psf_dim": 7, "z_crop_psf_dim": 7, "decon_rl": 7, "im_decon_clij_nc": 7, "im_decon_clij": 7, "red": 7, "lionfish": 7, "half_bead": 7, "psf_crop": [7, 9], "circulan": 7, "bigwww": 8, "ch": 8, "regular": 8, "input": [8, 9], "decon_tv_0": 8, "decon_tv_0001": 8, "0001": [8, 10], "decon_tv_001": 8, "001": 8, "metric": 8, "panda": 8, "pd": 8, "df": 8, "datafram": 8, "column": 8, "loc": 8, "rf": 8, "style": [8, 11], "hide": 8, "000000": 8, "580": 8, "465576": 8, "387": 8, "438202": 8, "216431": 8, "392": 8, "135223": 8, "fundment": 9, "character": 9, "super": 9, "extract": 9, "singl": 9, "reliabl": 9, "interer": 9, "nearbi": 9, "further": 9, "vari": 9, "advantag": 9, "averag": 9, "fourier": 9, "mle": 9, "fit": [9, 10], "theoret": 9, "answer": 9, "imagesc": 9, "forum": 9, "astigmat": 9, "9768": 9, "pyme": 9, "psfextract": 9, "higher": 9, "expect": 9, "intens": 9, "outer": 9, "ring": 9, "62973": 9, "howev": 9, "sub": 9, "role": 9, "prior": 9, "knowledg": 9, "account": 9, "necessarilli": 9, "secondli": 9, "disadvantag": 9, "extent": 9, "captur": 9, "thirdli": 9, "stick": 9, "togeth": 9, "form": 9, "turn": 9, "deconvoltuion": 9, "obtain": 9, "jupyt": [9, 11], "noteook": 9, "fftw": 9, "sdeconv": 9, "xyz": 9, "figur": 9, "threshold_loc": 9, "agaros": 9, "courtesi": 9, "lorenz": 9, "cangiano": 9, "sp8_175nm_laurentbeads_montage_left": 9, "clair": 9, "mitchel": 9, "haase_bead_image1_crop": 9, "robert": 9, "haas": 9, "laurentbead": 9, "beads_nam": 9, "axial_stretch": 9, "elif": 9, "f": 9, "axial": 9, "stretch": 9, "obvious": 9, "my": 9, "2048": 9, "tweak": 9, "characterist": 9, "crude": 9, "25": 9, "aften": 9, "between": 9, "track": [9, 11], "script": 9, "7590055": 9, "4090": 9, "3013": 9, "4638512": 9, "cube": 9, "global": 9, "alright": 9, "job": 9, "properti": 9, "empti": 9, "draw": 9, "wrap": 9, "conveni": 9, "render": 9, "draw_centroid": 9, "clij": [9, 11], "im_32": 9, "centroids_32": 9, "enhanc": 9, "appar": 9, "dim": 9, "reflect": [9, 10], "gamma": 9, "low": 9, "awai": 9, "via": 9, "neg": 9, "truncat": 9, "somewhat": 9, "arbitrari": 9, "produc": 9, "awar": 9, "especi": 9, "caus": 9, "psf_": 9, "65": 9, "smaller": [9, 10], "correpsond": 9, "actual": 9, "titl": 9, "end": [9, 10], "goal": 9, "self": 9, "predict": 9, "roi": 9, "950": 9, "1150": 9, "test_deconvolv": 9, "scale": 9, "uint16": 9, "deconvolved2": 9, "access": 9, "psf_from_bead": 9, "im_preprocess": 9, "modern": 10, "gigabyt": 10, "often": 10, "memori": 10, "enough": 10, "da": 10, "half": 10, "psfhalfsiz": 10, "life": [10, 11], "pre": 10, "largest": 10, "given": 10, "constraint": 10, "num_x_chunk": 10, "num_y_chunk": 10, "num_z_chunk": 10, "z_chunk_siz": 10, "y_chunk_siz": 10, "x_chunk_siz": 10, "deconv_chunk": 10, "reg": 10, "prevent": 10, "edg": 10, "24": 10, "dimg": 10, "from_arrai": 10, "map_overlap": 10, "decon_overlap_24": 10, "num_work": 10, "31": 10, "176": 10, "finishedfinish": 10, "littl": 10, "seem": 10, "book": 11, "resourc": 11, "scientist": 11, "who": 11, "dive": 11, "specif": 11, "aim": 11, "student": 11, "microscopi": 11, "scienc": 11, "cover": 11, "symposium": 11, "dask": 11, "ai": 11, "denois": 11, "cours": 11, "recommend": 11, "repositori": 11, "made": 11, "attende": 11, "reproduc": 11, "demo": 11, "exercis": 11, "desktop": 11, "termin": 11, "cd": 11, "pasteur": 11, "neubia": 11, "navig": 11, "lesson": 11, "doc": 11, "anonym": 11, "etherpad": 11, "email": 11, "issu": 11, "ask": 11, "held": 11, "dresden": 11, "august": 11, "2023": 11, "thank": 11, "share": 11, "teach": 11, "reus": 11, "deutsch": 11, "forschungsgemeinschaft": 11, "under": 11, "germani": 11, "excel": 11, "exc2068": 11, "cluster": 11, "physic": 11, "tu": 11, "grant": 11, "number": 11, "2021": 11, "237734": 11, "fiji": 11, "friend": 11, "distribut": 11, "eoss4": 11, "chan": 11, "zuckerberg": 11, "initi": 11, "daf": 11, "advis": 11, "fund": 11, "silicon": 11, "vallei": 11, "commun": 11, "foundat": 11}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"cours": 0, "prepar": 0, "troubleshoot": 0, "dll": 0, "load": [0, 3, 7, 9], "fail": 0, "graphic": 0, "card": 0, "driver": 0, "onlin": 0, "support": [0, 11], "intro": 1, "deconvolut": [1, 2, 4, 5, 7, 9, 10], "restor": 1, "what": 1, "point": [1, 3], "spread": [1, 3], "function": [1, 3, 6], "psf": [1, 3, 4, 5, 6, 7, 8, 9], "imag": [1, 2, 3, 4, 5, 6, 7, 9, 11], "process": [1, 9], "approach": 1, "richardson": [1, 6], "luci": [1, 6], "iter": [1, 4], "total": 1, "variat": 1, "regular": 1, "noisi": 1, "edg": [1, 6, 7], "handl": [1, 6, 7], "how": [1, 11], "do": 1, "we": 1, "make": [1, 4, 5, 8], "fast": 1, "setup": 2, "environ": [2, 4, 5, 9], "test": [2, 4, 5, 7, 9], "import": [2, 4, 5, 9], "get": 2, "open": [2, 4, 5], "view": [2, 9], "3d": [2, 9], "data": [2, 5], "notebook": [2, 9], "librari": 2, "napari": [2, 4, 5, 6], "ask": 2, "question": 2, "implement": 3, "forward": [3, 6], "model": [3, 6], "convolut": 3, "cupi": 3, "inspect": [3, 6, 9], "memori": 3, "defin": [3, 6, 9, 10], "arrai": 3, "size": 3, "manag": 3, "strategi": 3, "creat": [3, 4, 5, 6, 7, 9], "simul": 3, "pad": [3, 6], "same": [3, 7], "perform": [3, 7], "fourier": 3, "domain": 3, "gpu": [3, 11], "check": 3, "us": [3, 5, 7, 9, 11], "delet": 3, "fft": 3, "cach": 3, "nuclei": [4, 5], "compar": 4, "intens": 4, "ground": [4, 6], "truth": [4, 5, 6], "decon": [4, 5, 8, 9], "conda": [4, 5, 9], "show": [4, 5, 9], "deconvolot": [4, 5], "deconvolv": [4, 5, 6, 8, 9, 10], "run": 4, "vari": 4, "number": [4, 10], "visual": [4, 5, 9], "segment": 5, "resiz": 5, "theoret": 5, "appli": 5, "deconolv": 5, "score": 5, "solut": 5, "stardist": 5, "matcher": 5, "math": 6, "background": [6, 9], "an": 6, "option": 6, "normal": 6, "factor": 6, "imshow": 6, "result": 6, "experi": 7, "set": [7, 9], "paramet": [7, 9], "redlionfish": 7, "clij": 7, "non": 7, "circul": 7, "half": 7, "bead": [7, 9], "microtubul": 8, "phantom": 8, "crop": 8, "bit": 8, "faster": 8, "A": 9, "revers": 9, "k": 9, "distil": 9, "flaw": 9, "approxim": 9, "depend": 9, "some": 9, "preprocess": 9, "cavaet": 9, "subtract": 9, "median": 9, "filter": 9, "threshold": 9, "find": 9, "centroid": 9, "aproxim": 9, "post": 9, "dask": 10, "chunk": 10, "overlap": 10, "between": 10, "pol": 11, "bio": 11, "analysi": 11, "train": 11, "school": 11, "acceler": 11, "thi": 11, "materi": 11, "feedback": 11, "acknowledg": 11}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinxcontrib.bibtex": 9, "sphinx": 56}})